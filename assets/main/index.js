System.register("chunks:///_virtual/Card.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,i,a,o,l,c,d,s,u,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,l=e._decorator,c=e.Node,d=e.Sprite,s=e.Label,u=e.Color,f=e.Button,h=e.Component}],execute:function(){var C,p,m,g,b,v,y,O,w;o._RF.push({},"40e8cBCGvdBVpXCNqfyTeVa","Card",void 0);var k=l.ccclass,D=l.property;e("Card",(C=k("Card"),p=D({type:c}),m=D({type:d}),g=D({type:s}),C((y=t((v=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"CardOutline",y,i(t)),r(t,"CardColor",O,i(t)),r(t,"CardsLable",w,i(t)),t.parentId="",t.callbackToParent=null,t.dselectCards=null,t}n(t,e);var o=t.prototype;return o.start=function(){},o.handleCardClick=function(){},o.updateCardData=function(e,t,n){this.CardColor.color=(new u).fromHEX(e.color),this.callbackToParent=t,this.dselectCards=n,this.CardsLable.forEach((function(t){t.string=e.number}))},o.cardSelected=function(){var e=this,t=this;new Promise((function(n,r){t.callbackToParent({resolve:n,reject:r},e.node,e.parentId,!e.CardOutline.active)})).then((function(t){e.toggleOutline(),!e.CardOutline.active&&e.dselectCards()&&e.toggleOutline()}),(function(e){console.log("there was some error")}))},o.disbaleCards=function(){this.CardColor.color=(new u).fromHEX("#FDFDFD"),this.CardColor.node.getComponent(f).interactable=!1},o.cardClicked=function(){var e=this,n=this.node.parent.children,r=this.node.name.slice(this.node.name.indexOf("_"),this.node.name.length),i=n[n.length-1].name.slice(this.node.name.indexOf("_"),this.node.name.length);if(this.node.name==n[n.length-1].name)this.cardSelected();else if(r==i){for(var a=n.indexOf(n.find((function(t){return t.name==e.node.name}))),o=a+1;o<n.length;o++){if(n[o].name.slice(this.node.name.indexOf("_"),this.node.name.length)!=r)return}for(var l=a;l<n.length;l++)n[l].getComponent(t).cardSelected()}},o.toggleOutline=function(){this.CardOutline.active=!this.CardOutline.active},o.update=function(e){},a(t,[{key:"ParentId",set:function(e){this.parentId=e}}]),t}(h)).prototype,"CardOutline",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(v.prototype,"CardColor",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(v.prototype,"CardsLable",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=v))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/CardsConatiner.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,r,e,o;return{setters:[function(n){t=n.inheritsLoose},function(n){r=n.cclegacy,e=n._decorator,o=n.Component}],execute:function(){var c;r._RF.push({},"a2f9fjmQrdFeou7KPzzPpXP","CardsConatiner",void 0);var i=e.ccclass;e.property,n("CardsConatiner",i("CardsConatiner")(c=function(n){function r(){return n.apply(this,arguments)||this}t(r,n);var e=r.prototype;return e.start=function(){},e.update=function(n){},e.containerClicked=function(){console.log("cards conatiner clicked")},r}(o))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Card.ts"],(function(e){"use strict";var n,t,r,a,o,i,c,l,d,s,u,p,h,f,C,m;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,c=e.JsonAsset,l=e.Prefab,d=e.Node,s=e.UITransform,u=e.tween,p=e.Vec3,h=e.director,f=e.instantiate,C=e.Component},function(e){m=e.Card}],execute:function(){var v,g,P,y,b,D,T,k,w,A,F,_,S;o._RF.push({},"911836Vna5DJ7+Easc+FvkY","GamePlay",void 0);var R=i.ccclass,z=i.property;e("GamePlay",(v=R("GamePlay"),g=z({type:c}),P=z({type:l}),y=z({type:l}),b=z({type:d}),D=z({type:d}),v((w=n((k=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,r(n,"levelData",w,a(n)),r(n,"cardsBackPrefab",A,a(n)),r(n,"cardsPrefab",F,a(n)),r(n,"ParentConatiner",_,a(n)),r(n,"reloadPopup",S,a(n)),n.cardsContainer=[],n.cards=[],n.acitveParent=null,n.selectedParent=null,n.conatinerFinished=0,n.parentToChild=function(e){var t=n.ParentConatiner.getChildByName(e),r=t.children;4==r.length||n.cards.length+r.length>4?n.DselectAllCards():n.cards.forEach((function(r){var a=r.parent.getComponent(s).convertToWorldSpaceAR(r.getPosition());r.removeFromParent(),n.ParentConatiner.parent.addChild(r),r.position=n.ParentConatiner.parent.getComponent(s).convertToNodeSpaceAR(a);var o=t.parent.getComponent(s).convertToWorldSpaceAR(t.getPosition()),i=n.ParentConatiner.parent.getComponent(s).convertToNodeSpaceAR(o);u(r).to(.2,{position:new p(i)}).call((function(){r.removeFromParent(),t.addChild(r),r.setPosition(0,0,0),n.DselectAllCards(),n.checkForWin(t)})).start(),r.getComponent(m).ParentId=e}))},n.childtoParent=function(e,t,r){n.cards.length?r==n.acitveParent?(n.cards.push(t),e.resolve("Okay we can select")):r==n.acitveParent||n.selectedParent||n.parentToChild(r):(n.cards.push(t),n.acitveParent=r,e.resolve("Okay we can select"))},n}t(n,e);var o=n.prototype;return o.start=function(){var e,n,t=null==(e=this.levelData)||null==(n=e.json)?void 0:n.level_4;this.genrateCards(t.cardsData,t.cardsCount,t.eachCardCount),this.addcardsContainer(t.data,t.eachCardCount)},o.onLoad=function(){h.preloadScene("main")},o.genrateRandom=function(e,n){return Math.floor(Math.random()*(n-e)+e)},o.reloadScene=function(){h.loadScene("main")},o.checkForWin=function(e){if(!(e.children.length<4)){for(var n=e.children[0].name.slice(e.children[0].name.indexOf("_"),e.children[0].name.length),t=1;t<e.children.length;t++){if(e.children[t].name.slice(e.children[t].name.indexOf("_"),e.children[t].name.length)!=n)return}e.children.forEach((function(e){return e.getComponent(m).disbaleCards()})),++this.conatinerFinished,3==this.conatinerFinished&&(this.reloadPopup.active=!0)}},o.DselectAllCards=function(){this.cards.forEach((function(e){e.getComponent(m).toggleOutline()})),this.cards.length=0,this.acitveParent=""},o.addcardsContainer=function(e,n){for(var t=this,r=Object.keys(e),a=function(a){var o=f(t.cardsBackPrefab);if(t.ParentConatiner.addChild(o),o.name=a.toString(),o.on(d.EventType.TOUCH_END,(function(){return t.parentToChild(o.name)}),t),e[r[a]].containsCards)for(var i=0;i<n;i++){var c=t.genrateRandom(0,t.cards.length-1),l=t.cards.splice(c,1);l[0].getComponent(m).ParentId=o.name,o.addChild(l[0])}},o=0;o<r.length;o++)a(o)},o.genrateCards=function(e,n,t){for(var r=this,a=0;a<n;a++)for(var o=0;o<t;o++){var i=f(this.cardsPrefab);this.cards.push(i);var c=e["card_"+(a+1)];i.name=o+"_"+c.color,i.getComponent(m).updateCardData(c,this.childtoParent,(function(){return r.DselectAllCards()}))}},o.update=function(e){},n}(C)).prototype,"levelData",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(k.prototype,"cardsBackPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(k.prototype,"cardsPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(k.prototype,"ParentConatiner",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(k.prototype,"reloadPopup",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=k))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/handleButtonClick.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,o,i,l,c,a,u,s,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,c=e.Node,a=e.Prefab,u=e.instantiate,s=e.ScrollView,h=e.Component}],execute:function(){var d,p,f,C,v,b,y;i._RF.push({},"9db3bQGTc5CAaNoz4hLLvTe","handleButtonClick",void 0);var g=l.ccclass,m=l.property;e("handleButtonClick",(d=g("handleButtonClick"),p=m({type:c}),f=m({type:a}),d((b=t((v=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,r(t,"removeChildren",b,o(t)),r(t,"contentPrefab",y,o(t)),t}n(t,e);var i=t.prototype;return i.start=function(){for(var e=0;e<=10;e++){var t=u(this.contentPrefab);this.node.getComponent(s).content.addChild(t)}},i.getChildrenCount=function(){console.log("total children",this.removeChildren.children)},i.BtnCb=function(e,t){this.removeChildren.children[0].destroy();console.log("child",this.removeChildren.children),console.log("total Count",this.removeChildren.children)},i.update=function(e){},t}(h)).prototype,"removeChildren",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(v.prototype,"contentPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=v))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Card.ts","./CardsConatiner.ts","./GamePlay.ts","./handleButtonClick.ts"],(function(){"use strict";return{setters:[null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});