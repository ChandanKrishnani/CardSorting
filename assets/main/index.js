System.register("chunks:///_virtual/Card.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,r,a,i,o,l,c,s,d,u,h,f,p,C;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.createClass},function(e){o=e.cclegacy,l=e._decorator,c=e.Node,s=e.Sprite,d=e.Label,u=e.Color,h=e.Button,f=e.tween,p=e.Vec3,C=e.Component}],execute:function(){var g,m,b,v,y,O,w,k,L;o._RF.push({},"40e8cBCGvdBVpXCNqfyTeVa","Card",void 0);var P=l.ccclass,_=l.property;e("Card",(g=P("Card"),m=_({type:c}),b=_({type:s}),v=_({type:d}),g((w=n((O=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,r(n,"CardOutline",w,a(n)),r(n,"CardColor",k,a(n)),r(n,"CardsLable",L,a(n)),n.parentId="",n.callbackToParent=null,n.dselectCards=null,n}t(n,e);var o=n.prototype;return o.start=function(){},o.handleCardClick=function(){},o.updateCardData=function(e,n,t){this.CardColor.color=(new u).fromHEX(e.color),this.callbackToParent=n,this.dselectCards=t,this.CardsLable.forEach((function(n){n.string=e.number}))},o.cardSelected=function(){var e=this,n=this;new Promise((function(t,r){n.callbackToParent({resolve:t,reject:r},e.node,e.parentId,!e.CardOutline.active)})).then((function(n){e.toggleOutline(),!e.CardOutline.active&&e.dselectCards()&&e.toggleOutline()}),(function(e){console.log("there was some error")}))},o.disbaleCards=function(){var e=this;this.CardColor.node.getComponent(h).interactable=!1,this.node.name!=this.node.parent.children[this.node.parent.children.length-1].name&&f(this.node).to(.1,{scale:new p(0,1,0)}).call((function(){e.CardsLable.forEach((function(e){e.string=""}))})).to(.1,{scale:new p(1,1,0)}).start()},o.cardClicked=function(){var e=this,t=this.node.parent.children,r=this.node.name.slice(this.node.name.indexOf("_"),this.node.name.length),a=t[t.length-1].name.slice(this.node.name.indexOf("_"),this.node.name.length);if(this.node.name==t[t.length-1].name)this.cardSelected();else if(r==a){for(var i=t.indexOf(t.find((function(n){return n.name==e.node.name}))),o=i+1;o<t.length;o++){if(t[o].name.slice(this.node.name.indexOf("_"),this.node.name.length)!=r)return}for(var l=i;l<t.length;l++)t[l].getComponent(n).cardSelected()}},o.toggleOutline=function(){this.CardOutline.active=!this.CardOutline.active},o.update=function(e){},i(n,[{key:"ParentId",set:function(e){this.parentId=e}}]),n}(C)).prototype,"CardOutline",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(O.prototype,"CardColor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(O.prototype,"CardsLable",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=O))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/CardsConatiner.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,r,e,o;return{setters:[function(n){t=n.inheritsLoose},function(n){r=n.cclegacy,e=n._decorator,o=n.Component}],execute:function(){var c;r._RF.push({},"a2f9fjmQrdFeou7KPzzPpXP","CardsConatiner",void 0);var i=e.ccclass;e.property,n("CardsConatiner",i("CardsConatiner")(c=function(n){function r(){return n.apply(this,arguments)||this}t(r,n);var e=r.prototype;return e.start=function(){},e.update=function(n){},e.containerClicked=function(){console.log("cards conatiner clicked")},r}(o))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Card.ts"],(function(e){"use strict";var n,t,a,r,o,i,c,l,s,d,u,p,h,f,C,m,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,c=e.JsonAsset,l=e.Prefab,s=e.Node,d=e.UITransform,u=e.tween,p=e.Vec3,h=e.Layout,f=e.director,C=e.instantiate,m=e.Component},function(e){g=e.Card}],execute:function(){var v,P,y,b,D,w,k,T,A,F,S,_,O;o._RF.push({},"911836Vna5DJ7+Easc+FvkY","GamePlay",void 0);var R=i.ccclass,z=i.property;e("GamePlay",(v=R("GamePlay"),P=z({type:c}),y=z({type:l}),b=z({type:l}),D=z({type:s}),w=z({type:s}),v((A=n((T=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,a(n,"levelData",A,r(n)),a(n,"cardsBackPrefab",F,r(n)),a(n,"cardsPrefab",S,r(n)),a(n,"ParentConatiner",_,r(n)),a(n,"reloadPopup",O,r(n)),n.cardsContainer=[],n.cards=[],n.acitveParent=null,n.selectedParent=null,n.conatinerFinished={},n.parentToChild=function(e){var t=n.ParentConatiner.getChildByName(e),a=t.children;4==a.length||n.cards.length+a.length>4?n.DselectAllCards():n.cards.forEach((function(a,r){var o=a.parent.getComponent(d).convertToWorldSpaceAR(a.getPosition());a.removeFromParent(),n.ParentConatiner.parent.addChild(a),a.position=n.ParentConatiner.parent.getComponent(d).convertToNodeSpaceAR(o);var i=t.parent.getComponent(d).convertToWorldSpaceAR(t.getPosition()),c=n.ParentConatiner.parent.getComponent(d).convertToNodeSpaceAR(i);u(a).to(.2,{position:new p(c)}).call((function(){a.removeFromParent(),t.addChild(a),t.getComponent(h).updateLayout(),a.setPosition(0,0,0)})).to(.1,{position:new p(0,-35*(t.children.length+r),1)}).call((function(){n.DselectAllCards(),n.checkForWin(t)})).start(),a.getComponent(g).ParentId=e}))},n.childtoParent=function(e,t,a){n.cards.length?a==n.acitveParent?(n.cards.push(t),e.resolve("Okay we can select")):a==n.acitveParent||n.selectedParent||n.parentToChild(a):(n.cards.push(t),n.acitveParent=a,e.resolve("Okay we can select"))},n}t(n,e);var o=n.prototype;return o.start=function(){var e,n,t=null==(e=this.levelData)||null==(n=e.json)?void 0:n.level_4;this.genrateCards(t.cardsData,t.cardsCount,t.eachCardCount),this.addcardsContainer(t.data,t.eachCardCount)},o.onLoad=function(){f.preloadScene("main")},o.genrateRandom=function(e,n){return Math.floor(Math.random()*(n-e)+e)},o.reloadScene=function(){f.loadScene("main")},o.checkForWin=function(e){if(!(e.children.length<4)){for(var n=e.children[0].name.slice(e.children[0].name.indexOf("_"),e.children[0].name.length),t=1;t<e.children.length;t++){if(e.children[t].name.slice(e.children[t].name.indexOf("_"),e.children[t].name.length)!=n)return}e.children.forEach((function(e){return e.getComponent(g).disbaleCards()})),this.conatinerFinished[e.name]=!0,3==Object.keys(this.conatinerFinished).length&&(this.reloadPopup.setScale(0,0,0),this.reloadPopup.active=!0,u(this.reloadPopup).delay(.5).to(.2,{scale:new p(.2,.2,1)}).start())}},o.DselectAllCards=function(){this.cards.forEach((function(e){e.getComponent(g).toggleOutline()})),this.cards.length=0,this.acitveParent=""},o.addcardsContainer=function(e,n){for(var t=this,a=Object.keys(e),r=function(r){var o=C(t.cardsBackPrefab);if(t.ParentConatiner.addChild(o),o.name=r.toString(),o.on(s.EventType.TOUCH_END,(function(){return t.parentToChild(o.name)}),t),e[a[r]].containsCards)for(var i=0;i<n;i++){var c=t.genrateRandom(0,t.cards.length-1),l=t.cards.splice(c,1);l[0].getComponent(g).ParentId=o.name,o.addChild(l[0])}},o=0;o<a.length;o++)r(o)},o.genrateCards=function(e,n,t){for(var a=this,r=0;r<n;r++)for(var o=0;o<t;o++){var i=C(this.cardsPrefab);this.cards.push(i);var c=e["card_"+(r+1)];i.name=o+"_"+c.color,i.getComponent(g).updateCardData(c,this.childtoParent,(function(){return a.DselectAllCards()}))}},o.update=function(e){},n}(m)).prototype,"levelData",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(T.prototype,"cardsBackPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(T.prototype,"cardsPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(T.prototype,"ParentConatiner",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(T.prototype,"reloadPopup",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=T))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/handleButtonClick.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,o,i,l,c,a,u,s,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,c=e.Node,a=e.Prefab,u=e.instantiate,s=e.ScrollView,h=e.Component}],execute:function(){var d,p,f,C,v,b,y;i._RF.push({},"9db3bQGTc5CAaNoz4hLLvTe","handleButtonClick",void 0);var g=l.ccclass,m=l.property;e("handleButtonClick",(d=g("handleButtonClick"),p=m({type:c}),f=m({type:a}),d((b=t((v=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,r(t,"removeChildren",b,o(t)),r(t,"contentPrefab",y,o(t)),t}n(t,e);var i=t.prototype;return i.start=function(){for(var e=0;e<=10;e++){var t=u(this.contentPrefab);this.node.getComponent(s).content.addChild(t)}},i.getChildrenCount=function(){console.log("total children",this.removeChildren.children)},i.BtnCb=function(e,t){this.removeChildren.children[0].destroy();console.log("child",this.removeChildren.children),console.log("total Count",this.removeChildren.children)},i.update=function(e){},t}(h)).prototype,"removeChildren",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(v.prototype,"contentPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=v))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Card.ts","./CardsConatiner.ts","./GamePlay.ts","./handleButtonClick.ts"],(function(){"use strict";return{setters:[null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});